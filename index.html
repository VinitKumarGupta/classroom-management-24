<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Classroom Manager</title>
        <link rel="stylesheet" href="styles.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css"
            rel="stylesheet"
        />
    </head>
    <body>
        <div class="container">
            <div class="sidebar">
                <div class="logo">
                    <i class="fa-solid fa-chalkboard-user"></i>
                    <h2>Classroom Manager</h2>
                </div>
                <nav>
                    <ul>
                        <li>
                            <a href="#attendance-section"
                                >Attendance Tracking</a
                            >
                        </li>
                        <li>
                            <a href="#homework-section">Homework Management</a>
                        </li>
                        <li>
                            <a href="#announcements-section"
                                >Announcements
                                <span
                                    id="announcement-count"
                                    class="count-badge"
                                    >0</span
                                ></a
                            >
                        </li>
                        <li>
                            <a href="#student-profiles-section"
                                >Student Profiles
                                <span
                                    id="student-profile-count"
                                    class="count-badge"
                                    >3</span
                                ></a
                            >
                        </li>
                        <li><a href="#calendar-section">Your Time-Table</a></li>
                    </ul>
                </nav>
            </div>
            <div class="main-content">
                <div class="header">
                    <h2 id="dashboard-title">Dashboard (Today)</h2>
                    <div class="header-buttons">
                        <button class="settings-btn">Settings</button>
                        <button class="logout-btn">Logout</button>
                    </div>
                </div>
                <div class="sections">
                    <!-- Attendance Tracking Section -->
                    <div class="section" id="attendance-section">
                        <div class="section-header">
                            <h3>Attendance Tracking</h3>
                            <input type="date" id="date-picker" />
                            <select
                                id="class-selection"
                                onchange="showClassDetails()"
                            >
                                <option value="">Select Class</option>
                                <option value="class-1a">Class 1-A</option>
                                <option value="class-1b">Class 1-B</option>
                                <option value="class-1c">Class 1-C</option>
                            </select>
                        </div>
                        <div class="attendance-tracking">
                            <div
                                class="class-card"
                                id="class-1a"
                                style="display: none"
                            >
                                Class 1-A<br />Present: 23, Absent: 2
                            </div>
                            <div
                                class="class-card"
                                id="class-1b"
                                style="display: none"
                            >
                                Class 1-B<br />Present: 21, Absent: 6
                            </div>
                            <div
                                class="class-card"
                                id="class-1c"
                                style="display: none"
                            >
                                Class 1-C<br />Present: 24, Absent: 1
                            </div>
                        </div>
                    </div>

                    <!-- Homework Assignment Management Section -->
                    <div class="section" id="homework-section">
                        <div class="section-header-1">
                            <h3>Homework Assignment Management</h3>
                            <div class="file-upload-inline">
                                <label
                                    for="file-upload"
                                    class="file-upload-label"
                                    >Upload Assignment:</label
                                >
                                <input
                                    type="file"
                                    id="file-upload"
                                    accept=".pdf, .ppt, .doc, .docx"
                                />
                            </div>
                        </div>
                        <div class="homework-tracking">
                            <div class="homework-card">
                                <p>Mathematics</p>
                                <p>Assignment: Algebra</p>
                                <p>Due: 10th Oct</p>
                            </div>
                            <div class="homework-card">
                                <p>Science</p>
                                <p>Assignment: Biology</p>
                                <p>Due: 12th Oct</p>
                            </div>
                        </div>
                    </div>

                    <!-- Announcements & Notifications Section -->
                    <div class="section" id="announcements-section">
                        <h3>Announcements & Notifications</h3>
                        <input
                            type="text"
                            id="announcement-input"
                            placeholder="Enter your announcement here"
                        />
                        <input type="date" id="announcement-deadline" />
                        <button id="post-announcement-btn">
                            Post Announcement
                        </button>
                        <div
                            id="announcement-display"
                            class="announcement-display"
                        >
                            <p
                                id="no-announcements"
                                style="text-align: center; font-weight: bold"
                            >
                                NO ANNOUNCEMENTS
                            </p>
                        </div>
                    </div>

                    <!-- Student Profiles Section -->
                    <div class="section" id="student-profiles-section">
                        <h3>Student Profiles</h3>
                        <div class="student-profiles">
                            <div class="profile-card">
                                <img
                                    src="https://via.placeholder.com/100"
                                    alt="Anna Smith"
                                />
                                <p>Anna Smith</p>
                                <p>Grade: A</p>
                            </div>
                            <div class="profile-card">
                                <img
                                    src="https://via.placeholder.com/100"
                                    alt="John Doe"
                                />
                                <p>John Doe</p>
                                <p>Grade: B</p>
                            </div>
                            <div class="profile-card">
                                <img
                                    src="https://via.placeholder.com/100"
                                    alt="Emily Davis"
                                />
                                <p>Emily Davis</p>
                                <p>Grade: A</p>
                            </div>
                        </div>
                    </div>

                    <!-- Calendar Section -->
                    <div class="section" id="calendar-section">
                        <h3>Time-Table</h3>
                        <img
                            src="./teacher-timetable.png"
                            class="faculty-timetable"
                            alt="timetable"
                        />
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Function to show the class details based on dropdown selection
            function showClassDetails() {
                const selectedClass =
                    document.getElementById("class-selection").value;

                // Hide all class cards
                document.getElementById("class-1a").style.display = "none";
                document.getElementById("class-1b").style.display = "none";
                document.getElementById("class-1c").style.display = "none";

                // Show the selected class card
                if (selectedClass) {
                    document.getElementById(selectedClass).style.display =
                        "block";
                }
            }

            // Student profile count logic
            const studentProfileCountElement = document.getElementById(
                "student-profile-count"
            );
            let studentProfileCount = 3; // Initial value based on your HTML

            // Announcement count logic
            const announcementCountElement =
                document.getElementById("announcement-count");
            let announcementCount = 0; // Starting from 0

            // Post Announcement Button logic
            const postAnnouncementBtn = document.getElementById(
                "post-announcement-btn"
            );
            const announcementInput =
                document.getElementById("announcement-input");
            const announcementDeadline = document.getElementById(
                "announcement-deadline"
            );
            const announcementDisplay = document.getElementById(
                "announcement-display"
            );
            const noAnnouncementsText =
                document.getElementById("no-announcements");

            // Function to delete an announcement
            function deleteAnnouncement(element) {
                element.parentNode.remove();
                announcementCount--;
                announcementCountElement.textContent = announcementCount;

                // If no announcements, show the default message
                if (announcementCount === 0) {
                    noAnnouncementsText.style.display = "block";
                }
            }

            // Function to add a new announcement
            function addAnnouncement() {
                const announcementText = announcementInput.value.trim();
                const deadlineText = announcementDeadline.value;

                if (announcementText !== "" && deadlineText !== "") {
                    // Hide "NO ANNOUNCEMENTS" message if it's displayed
                    noAnnouncementsText.style.display = "none";

                    // Create a new announcement element
                    const newAnnouncement = document.createElement("div");
                    newAnnouncement.innerHTML = `
            <p class="announcement-text">${announcementText}</p>
            <p class="deadline-text">Deadline: ${new Date(
                deadlineText
            ).toLocaleDateString()}</p>
            <button class="delete-icon" onclick="deleteAnnouncement(this)">üóëÔ∏è</button>
        `;
                    newAnnouncement.classList.add("announcement-item");
                    announcementDisplay.appendChild(newAnnouncement);

                    // Clear input fields
                    announcementInput.value = "";
                    announcementDeadline.value = "";

                    // Increment and update announcement count
                    announcementCount++;
                    announcementCountElement.textContent = announcementCount;
                } else {
                    alert(
                        "Please fill in both the announcement and the deadline."
                    );
                }
            }

            // Event listener for posting the announcement
            postAnnouncementBtn.addEventListener("click", addAnnouncement);
        </script>
    </body>
</html>
